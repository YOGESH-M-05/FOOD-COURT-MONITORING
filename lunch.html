<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lunch - Yoga Kitchen</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="resources/css/style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      section {
        padding: 50px 0;
      }
      .menu-item img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 8px;
      }
      .menu-item {
        margin-bottom: 30px;
        text-align: center;
      }
      .menu-item h4 {
        font-size: 1.5rem;
        font-weight: bold;
        margin-top: 15px;
      }
      .menu-item p {
        color: #777;
        font-size: 1rem;
        margin-top: 10px;
      }
      .order-btn {
        margin-top: 20px;
        padding: 10px 20px;
        background-color: #ff6347;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .order-btn:hover {
        background-color: #e5533d;
      }
      .quantity-control {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 10px;
      }
      .quantity-control button {
        background-color: #ddd;
        border: none;
        font-size: 1.2rem;
        padding: 5px 10px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .quantity-control button:hover {
        background-color: #ccc;
      }
      .quantity-input {
        width: 50px;
        text-align: center;
        font-size: 1.2rem;
        margin: 0 10px;
      }
      .count {
        font-size: 1rem;
        color: #555;
        margin-top: 10px;
      }
      .price {
        font-size: 1.1rem;
        font-weight: bold;
        color: #333;
        margin-top: 10px;
      }
      .nav-bar {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        justify-content: flex-end;
      }
      .nav-bar li {
        margin: 0 15px;
      }
      .nav-bar li a {
        text-decoration: none;
        font-size: 1rem;
        color: #333;
        padding: 8px 15px;
      }
      .nav-bar li a:hover {
        background-color: #f0f0f0;
        border-radius: 5px;
      }
      header {
        background-color: #fff;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        padding: 10px 0;
      }
      #logo h2 {
        font-size: 2rem;
        color: #2d2d2d;
      }
      .yoga {
        color: #ff6347;
      }
      #ham-menu {
        display: none;
        font-size: 2rem;
        cursor: pointer;
        color: #333;
      }
      @media (max-width: 768px) {
        #nav-bar {
          display: none;
          flex-direction: column;
          text-align: center;
          margin-top: 15px;
        }
        #ham-menu {
          display: block;
        }
        #nav-bar.active {
          display: flex;
        }
        .nav-bar li {
          margin: 10px 0;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <a href="index.html" id="logo"><h2><span class="yoga">Yoga</span>Kitchen</h2></a>
        <i class="fas fa-bars" id="ham-menu"></i>
        <ul id="nav-bar" class="nav-bar">
          <li><a href="neworders.html">New Orders</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="signup.html">Signup</a></li>
        </ul>
      </nav>
    </header>

    <!-- Lunch Menu Section -->
    <section id="lunch-menu">
      <h2 class="text-center">Lunch</h2>
      <div class="container text-center">
        <div class="row">
          <!-- Item 1 -->
          <div class="col-md-4 menu-item">
            <img src="resources/images/lunch1.jpg" alt="Salad" />
            <h4>Quinoa Salad</h4>
            <p>A wholesome salad with organic ingredients.</p>
            <div class="quantity-control">
              <button onclick="decreaseQuantity('salad')">-</button>
              <input type="number" id="salad-quantity" class="quantity-input" value="0" min="0" readonly />
              <button onclick="increaseQuantity('salad')">+</button>
            </div>
            <div class="count" id="salad-count">Count: 0</div>
            <div class="price" id="salad-price">Price: $0.00</div>
            <button class="order-btn" onclick="orderItem('salad', 10)">Order Now</button>
          </div>
          <!-- Item 2 -->
          <div class="col-md-4 menu-item">
            <img src="resources/images/lunch2.jpg" alt="Rice Bowl" />
            <h4>Rice Bowl</h4>
            <p>Healthy rice bowls with fresh vegetables.</p>
            <div class="quantity-control">
              <button onclick="decreaseQuantity('ricebowl')">-</button>
              <input type="number" id="ricebowl-quantity" class="quantity-input" value="0" min="0" readonly />
              <button onclick="increaseQuantity('ricebowl')">+</button>
            </div>
            <div class="count" id="ricebowl-count">Count: 0</div>
            <div class="price" id="ricebowl-price">Price: $0.00</div>
            <button class="order-btn" onclick="orderItem('ricebowl', 12)">Order Now</button>
          </div>
          <!-- Item 3 -->
          <div class="col-md-4 menu-item">
            <img src="resources/images/lunch3.jpg" alt="Wraps" />
            <h4>Veggie Wraps</h4>
            <p>Fresh and crunchy wraps for a light lunch.</p>
            <div class="quantity-control">
              <button onclick="decreaseQuantity('wraps')">-</button>
              <input type="number" id="wraps-quantity" class="quantity-input" value="0" min="0" readonly />
              <button onclick="increaseQuantity('wraps')">+</button>
            </div>
            <div class="count" id="wraps-count">Count: 0</div>
            <div class="price" id="wraps-price">Price: $0.00</div>
            <button class="order-btn" onclick="orderItem('wraps', 8)">Order Now</button>
          </div>
        </div>
      </div>
    </section>

      <!-- About Us Section -->
      <section id="about" class="text-center py-5">
        <h2 class="scroll-effect">About Us</h2>
        <!-- Link added around the image -->
        <a href="aboutus.html">
          <img src="resources/images/img.jpg" alt="Yoga Kitchen" class="about-img" />
        </a>
  
        <h4>At Yoga Kitchen, we blend nutrition with mindfulness. Our meals are crafted to nourish both the body and soul.</h4>
      </section>
  
      <!-- Contact Section -->
      <section id="contact" class="py-5">
        <h2 class="text-center scroll-effect">Contact Us</h2>
        <div class="container">
          <form>
            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input type="text" class="form-control" id="name" required />
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" id="email" required />
            </div>
            <div class="mb-3">
              <label for="message" class="form-label">Message</label>
              <textarea class="form-control" id="message" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Send Message</button>
          </form>
        </div>
      </section>
  
      <!-- Footer -->
      <footer class="text-center py-3 bg-light">
        <p>&copy; 2025 Yoga Kitchen. All rights reserved.</p>
        <a href="#" class="me-2"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="me-2"><i class="fab fa-instagram"></i></a>
        <a href="#" class="me-2"><i class="fab fa-twitter"></i></a>
      </footer>
  
      <script src="resources/js/script.js"></script>
    <script>
      // Mobile menu toggle
      document.getElementById("ham-menu").addEventListener("click", function() {
        document.getElementById("nav-bar").classList.toggle("active");
      });

      // Quantity increase function
      function increaseQuantity(item) {
        let quantityInput = document.getElementById(item + '-quantity');
        let countElement = document.getElementById(item + '-count');
        let priceElement = document.getElementById(item + '-price');
        let quantity = parseInt(quantityInput.value);
        quantityInput.value = quantity + 1;
        countElement.innerHTML = 'Count: ' + (quantity + 1);
        updatePrice(item, quantity + 1);
      }

      // Quantity decrease function
      function decreaseQuantity(item) {
        let quantityInput = document.getElementById(item + '-quantity');
        let countElement = document.getElementById(item + '-count');
        let priceElement = document.getElementById(item + '-price');
        let quantity = parseInt(quantityInput.value);
        if (quantity > 0) {
          quantityInput.value = quantity - 1;
          countElement.innerHTML = 'Count: ' + (quantity - 1);
          updatePrice(item, quantity - 1);
        }
      }

      // Update price for the item
      function updatePrice(item, quantity) {
        let priceElement = document.getElementById(item + '-price');
        let pricePerUnit = 0;

        if (item === 'salad') {
          pricePerUnit = 10;
        } else if (item === 'ricebowl') {
          pricePerUnit = 12;
        } else if (item === 'wraps') {
          pricePerUnit = 8;
        }

        let totalPrice = pricePerUnit * quantity;
        priceElement.innerHTML = 'Price: $' + totalPrice.toFixed(2);
      }

     // Order function (sending POST request to backend)
function orderItem(item) {
  let quantity = parseInt(document.getElementById(item + '-quantity').value);
  let priceText = document.querySelector(`#${item}-quantity`).closest('.menu-item').querySelector('.price').textContent;
  let price = parseFloat(priceText.replace('$', ''));

  if (quantity === 0) {
    alert('Please select at least one item before ordering.');
    return;
  }

  fetch('http://localhost:4002/order', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      item_name: item,
      quantity: quantity,
      total_price: price * quantity,
    }),
  })
  .then(response => response.json())
  .then(data => {
    alert('Order placed successfully!');
    console.log(data);
  })
  .catch(error => {
    alert('There was an error placing the order!');
    console.error(error);
  });
}

    </script>
  </body>
</html>
